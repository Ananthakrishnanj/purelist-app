(this["webpackJsonpdiaganal-app"]=this["webpackJsonpdiaganal-app"]||[]).push([[0],{25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMxJREFUeNrsl9ENgzAMRGMm6AiM0JFgBCboKGaTsgFswAiwQWoQkfJRVQQhNQd3kpXf9+JEcZxjGOaUeO8fViUyfG81WT1R4UNwJL7A40j8gM9fYgd8vhIJ8CEjMnw+HSA84QlPeMJfEl5ieFveVilAjdXwd4GD8Fmk2NYXIvzagW33J9SvbIG687HAjCwQLvEys5eoHVhSIx8hJyIdskT8Elc+LUoJSlCCEpSgBCVOmIX2T38i7Z3GDkWWUOROKPJxUuQ7oY5hsPIRYABvzTavpLSmGQAAAABJRU5ErkJggg=="},26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkRJREFUeNrsmdFxwjAMhh0m8AjZoNmg2QBGSDdgg2YT6AShE4ROEJggbBA2cOU7p8dxiSxsyyE0utPlAbD5bOmPLCcigCmlJDyygY9OSZJcxQSWOIKk8NiAv4Pn4BL5ugY7gv+AHwD0Ip7NACgHr5Sf6d/nzwKUgtcqrFVm5yeDKsA7xWN63GIKqJ2KY7tXhGKBS8ag4EENkRP4t1G+e9MisR55FQzZHlTzg2unSmJulNTkN+JTEneu5JJzm9WuavaAuuahwdoYeUDI3za0rEcLEUJoFjF2azeB8rbcu9WaIpcDTFoWtPCdoGIPCbdFrXwH509ixzTgkvhtJLBtaOlfWaqCY6QKDpsncwUbFQYob05RTrv4PNI1DMYqgTrySSLo/1iJF7WXBrsGjW13k0gzyAnsHFKNPGxsvrMr2AV7x8XqfiEfX1zBMKldR9qtteWE7rxiHXJSlsy7JbH5fVXxgCQ0d1m1RYTjwNkS6Lgam6ZV0LG2CCznooYJrGGfEwbaxOz7Efoemxj12m2HSgYQC+s8sWO+bxXkHrncEnqWKUfcF8TGZk0NFxPm1NuaICE41uLWrbZP4hj9xd7ZVAnaU+Nvwn4xeG978K/+5Rz8RnSCS4lBZWQpEB4IS++blingMkLCu5oeNyMoMhucNC3pUDeb3X3LnCAuDVvdegPYeuxQOfQHiZf2DXdR3odoaVa6RUBq872MsGjNU8AxRcQCt8AtcAvcArfA/Xs4MTejwok5GgGuEHM1BG6+UAjcH9SvAAMAy5K2QTwDnF4AAAAASUVORK5CYII="},29:function(e,t,a){e.exports=a(61)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),i=a.n(o),c=a(6),s=a(7),l=a(9),u=a(8),m=a(11),h=a.n(m),d=function(e){return{type:"FETCH_DETAILS_SUCCESS",payload:e}},p=function(e){return{type:"FETCH_DETAILS_FAILURE",payload:e}},g=function(e){return{type:"SET_SEARCH_MODE",payload:e}},A=a(4);a(57);var f=function(e){return r.a.createElement("div",{className:"ml-auto mr-auto md:mt-5_625"},r.a.createElement("img",{src:e.item["poster-image"],onError:function(e){e.target.onerror=null,e.target.src="./placeholder.png"},className:"tile-image"}),r.a.createElement("p",{className:"text-white md:mt-6"},e.item.name))},E=(a(58),a(25)),v=a.n(E),S=a(26),b=a.n(S),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={searchText:"",showTextInput:!1,searched:!1},n}return Object(s.a)(a,[{key:"changeSearchText",value:function(e){this.setState({searchText:e.target.value})}},{key:"initiateSeach",value:function(){this.state.searchText?(this.props.searchData(this.state.searchText),this.setState({searched:!0})):this.setState({showTextInput:!0})}},{key:"clearSearch",value:function(){var e=this;this.state.searched&&(this.props.setSearchMode(!1),this.setState({showTextInput:!1,searchText:"",searched:!1},(function(){return e.props.resetPage()}))),this.setState({showTextInput:!1,searchText:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navbar-background h-16 bg-repeat-x fixed w-full top-0 bg-contain flex items-center pl-4 pr-4 md:h-9_75 md:pl-1_875 md:pr-1_875"},r.a.createElement("img",{src:v.a,className:"icon"}),r.a.createElement("p",{className:"text-white ml-2 flex-grow"},this.props.title),this.state.showTextInput&&r.a.createElement("input",{type:"text",value:this.state.searchText,onChange:function(t){return e.changeSearchText(t)},className:"animate__animated animate__fadeInRight duration-75 mr-2 text-white bg-transparent border-b outline-none border-white border-opacity-50 focus:border-opacity-100"}),this.state.showTextInput&&r.a.createElement("i",{className:"fa fa-times text-white mr-2 animate__animated animate__fadeInRight duration-75","aria-hidden":"true",onClick:function(){return e.clearSearch()}}),r.a.createElement("img",{src:b.a,className:"icon",onClick:function(){return e.initiateSeach()}}))}}]),a}(n.Component),x=Object(A.b)((function(e){return{title:e.title}}),(function(e){return{searchData:function(t){return e(function(e){return function(t){t(g(!0)),t({type:"FETCH_DETAILS_REQUEST"}),h.a.get("API/CONTENTLISTINGPAGE.json").then((function(a){var n=a.data.page["content-items"].content.filter((function(t){return t.name.includes(e)}));console.log("Search Result : ",n);var r=a.data.page;r["content-items"].content=n,t(d(r))})).catch((function(e){var a=e.message;t(p(a))}))}}(t))},setSearchMode:function(t){return e(g(t))}}}))(T);var I=function(e){return r.a.createElement("div",{className:"text-center mt-4 text-white"},r.a.createElement("i",{className:"fa fa-exclamation-triangle mr-2","aria-hidden":"true"}),e.error)};var N=function(){return r.a.createElement("div",{className:"text-center mt-4 text-3xl text-white"},r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"}))},w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={page:1},n.loadRef=r.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){console.log(t,"entries"),t.forEach((function(t){t.intersectionRatio>0&&e.loadMore()}))})),this.observer.observe(this.loadRef.current)}},{key:"loadMore",value:function(){(0==this.props.totalItems||this.props.data.length<this.props.totalItems)&&(this.props.fetchDetails(this.state.page),this.setState({page:this.state.page+1}))}},{key:"resetPage",value:function(){var e=this;this.setState({page:1},(function(){e.loadMore(),e.observer.observe(e.loadRef.current)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x,{resetPage:function(){return e.resetPage()}}),r.a.createElement("div",{className:"grid grid-cols-3 gap-4 ml-4 mr-4 mt-16 md:grid-cols-4 md:gap-1_875 md:ml-1_875 md:mr-1_875 md:mt-6_375"},this.props.data.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(f,{item:e}))}))),this.props.isLoading&&r.a.createElement(N,null),this.props.error&&r.a.createElement(I,{error:this.props.error}),!this.props.searchMode&&r.a.createElement("div",{ref:this.loadRef,className:"h-1"},"\xa0"),!this.props.error&&!this.props.isLoading&&0===this.props.data.length&&r.a.createElement("div",{className:"text-center mt-40 text-white"},r.a.createElement("i",{className:"fa fa-exclamation-triangle mr-2","aria-hidden":"true"}),"No Data Found"))}}]),a}(n.Component),C=Object(A.b)((function(e){return{data:e.data,isLoading:e.isLoading,error:e.error,totalItems:e.totalItems,hasMore:e.hasMore,searchMode:e.searchMode}}),(function(e){return{fetchDetails:function(t){return e(function(e){return function(t){t({type:"FETCH_DETAILS_REQUEST"}),h.a.get("API/CONTENTLISTINGPAGE-PAGE".concat(e,".json")).then((function(e){var a=e.data.page;t(d(a))})).catch((function(e){var a=e.message;t(p(a))}))}}(t))}}}))(w),R=a(3),O=a(14),y=a(2),j={data:[],isLoading:!0,error:"",totalItems:0,title:"",searchMode:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DETAILS_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"FETCH_DETAILS_SUCCESS":var a=[].concat(Object(O.a)(e.data),Object(O.a)(t.payload["content-items"].content)),n=t.payload["total-content-items"];return Object(y.a)(Object(y.a)({},e),{},{data:a,totalItems:n,title:t.payload.title,isLoading:!1});case"FETCH_DETAILS_FAILURE":return Object(y.a)(Object(y.a)({},e),{},{error:t.payload,isLoading:!1});case"SET_SEARCH_MODE":return Object(y.a)(Object(y.a)({},e),{},{searchMode:t.payload,data:[]});default:return e}},F=a(27),G=a(28),J=Object(R.createStore)(M,Object(F.composeWithDevTools)(Object(R.applyMiddleware)(G.a)));a(59),a(60);var _=function(){return r.a.createElement(A.a,{store:J},r.a.createElement("div",{className:"min-h-full"},r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.765e558e.chunk.js.map