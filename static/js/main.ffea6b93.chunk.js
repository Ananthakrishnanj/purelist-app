(this["webpackJsonpdiaganal-app"]=this["webpackJsonpdiaganal-app"]||[]).push([[0],{23:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMxJREFUeNrsl9ENgzAMRGMm6AiM0JFgBCboKGaTsgFswAiwQWoQkfJRVQQhNQd3kpXf9+JEcZxjGOaUeO8fViUyfG81WT1R4UNwJL7A40j8gM9fYgd8vhIJ8CEjMnw+HSA84QlPeMJfEl5ieFveVilAjdXwd4GD8Fmk2NYXIvzagW33J9SvbIG687HAjCwQLvEys5eoHVhSIx8hJyIdskT8Elc+LUoJSlCCEpSgBCVOmIX2T38i7Z3GDkWWUOROKPJxUuQ7oY5hsPIRYABvzTavpLSmGQAAAABJRU5ErkJggg=="},24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkRJREFUeNrsmdFxwjAMhh0m8AjZoNmg2QBGSDdgg2YT6AShE4ROEJggbBA2cOU7p8dxiSxsyyE0utPlAbD5bOmPLCcigCmlJDyygY9OSZJcxQSWOIKk8NiAv4Pn4BL5ugY7gv+AHwD0Ip7NACgHr5Sf6d/nzwKUgtcqrFVm5yeDKsA7xWN63GIKqJ2KY7tXhGKBS8ag4EENkRP4t1G+e9MisR55FQzZHlTzg2unSmJulNTkN+JTEneu5JJzm9WuavaAuuahwdoYeUDI3za0rEcLEUJoFjF2azeB8rbcu9WaIpcDTFoWtPCdoGIPCbdFrXwH509ixzTgkvhtJLBtaOlfWaqCY6QKDpsncwUbFQYob05RTrv4PNI1DMYqgTrySSLo/1iJF7WXBrsGjW13k0gzyAnsHFKNPGxsvrMr2AV7x8XqfiEfX1zBMKldR9qtteWE7rxiHXJSlsy7JbH5fVXxgCQ0d1m1RYTjwNkS6Lgam6ZV0LG2CCznooYJrGGfEwbaxOz7Efoemxj12m2HSgYQC+s8sWO+bxXkHrncEnqWKUfcF8TGZk0NFxPm1NuaICE41uLWrbZP4hj9xd7ZVAnaU+Nvwn4xeG978K/+5Rz8RnSCS4lBZWQpEB4IS++blingMkLCu5oeNyMoMhucNC3pUDeb3X3LnCAuDVvdegPYeuxQOfQHiZf2DXdR3odoaVa6RUBq872MsGjNU8AxRcQCt8AtcAvcArfA/Xs4MTejwok5GgGuEHM1BG6+UAjcH9SvAAMAy5K2QTwDnF4AAAAASUVORK5CYII="},29:function(e,t,a){e.exports=a(61)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),i=a(19),l=a(20),s=a(28),m=a(27),A=a(21),u=a.n(A),d=a(4);a(57);var g=function(e){return r.a.createElement("div",{className:"ml-auto mr-auto md:mt-5_625"},r.a.createElement("img",{src:e.item["poster-image"],onError:function(e){e.target.onerror=null,e.target.src="./placeholder.png"},className:"tile-image"}),r.a.createElement("p",{className:"text-white md:mt-6"},e.item.name))},E=(a(58),a(23)),p=a.n(E),f=a(24),h=a.n(f);var v=Object(d.b)((function(e){return{title:e.title}}))((function(e){return r.a.createElement("div",{className:"navbar-background h-16 bg-repeat-x fixed w-full top-0 bg-contain flex items-center pl-4 pr-4 md:h-9_75 md:pl-1_875 md:pr-1_875"},r.a.createElement("img",{src:p.a,className:"icon"}),r.a.createElement("p",{className:"text-white ml-2 flex-grow"},e.title),r.a.createElement("img",{src:h.a,className:"icon"}))}));var b=function(e){return r.a.createElement("div",{className:"text-center mt-4 text-white"},r.a.createElement("i",{className:"fa fa-exclamation-triangle mr-2","aria-hidden":"true"}),e.error)};var S=function(){return r.a.createElement("div",{className:"text-center mt-4 text-3xl text-white"},r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"}))},N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={page:1},n.loadRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){console.log(t,"entries"),t.forEach((function(t){t.intersectionRatio>0&&e.loadMore()}))})),this.observer.observe(this.loadRef.current)}},{key:"loadMore",value:function(){(0==this.props.totalItems||this.props.data.length<this.props.totalItems)&&(this.props.fetchDetails(this.state.page),this.setState({page:this.state.page+1}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"grid grid-cols-3 gap-4 ml-4 mr-4 mt-16 md:grid-cols-4 md:gap-1_875 md:ml-1_875 md:mr-1_875 md:mt-6_375"},this.props.data.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(g,{item:e}))}))),this.props.isLoading&&r.a.createElement(S,null),this.props.error&&r.a.createElement(b,{error:this.props.error}),r.a.createElement("div",{ref:this.loadRef,className:"h-1"},"\xa0"))}}]),a}(n.Component),R=Object(d.b)((function(e){return{data:e.data,isLoading:e.isLoading,error:e.error,totalItems:e.totalItems,hasMore:e.hasMore}}),(function(e){return{fetchDetails:function(t){return e(function(e){return function(t){t({type:"FETCH_DETAILS_REQUEST"}),u.a.get("API/CONTENTLISTINGPAGE-PAGE".concat(e,".json")).then((function(e){var a=e.data.page;t(function(e){return{type:"FETCH_DETAILS_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t(function(e){return{type:"FETCH_DETAILS_FAILURE",payload:e}}(a))}))}}(t))}}}))(N),x=a(3),C=a(9),w=a(2),I={data:[],isLoading:!0,error:"",totalItems:0,title:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(console.log("change : ",t),t.type){case"FETCH_DETAILS_REQUEST":return Object(w.a)(Object(w.a)({},e),{},{isLoading:!0});case"FETCH_DETAILS_SUCCESS":var a=[].concat(Object(C.a)(e.data),Object(C.a)(t.payload["content-items"].content)),n=t.payload["total-content-items"];return Object(w.a)(Object(w.a)({},e),{},{data:a,totalItems:n,title:t.payload.title,isLoading:!1});case"FETCH_DETAILS_FAILURE":return Object(w.a)(Object(w.a)({},e),{},{error:t.payload,isLoading:!1});default:return e}},O=a(25),F=a(26),J=Object(x.createStore)(T,Object(O.composeWithDevTools)(Object(x.applyMiddleware)(F.a)));a(59),a(60);var j=function(){return r.a.createElement(d.a,{store:J},r.a.createElement("div",{className:"min-h-full"},r.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.ffea6b93.chunk.js.map